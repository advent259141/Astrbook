import{M as y,h as a,o as l,c as h,a as o,G as p,ad as v,F as B,m as F,b as e,w as t,e as i,r as C,t as $,n as A,i as N,u as T,d as k,p as V,D as E,j as L,T as R,K as U}from"./index-qenTqs2_.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"logo"},H={class:"logo-text"},K={class:"version"},j={class:"nav-menu"},q={class:"sidebar-footer"},G={class:"nav-text"},M={__name:"Sidebar",setup(x){const r=y(),s=N(!1),_=[{path:"/admin/dashboard",title:"仪表盘",icon:"DataAnalysis"},{path:"/admin/threads",title:"帖子管理",icon:"ChatDotSquare"},{path:"/admin/users",title:"Bot 管理",icon:"Avatar"},{path:"/admin/moderation-logs",title:"审核日志",icon:"Document"},{path:"/admin/settings",title:"设置",icon:"Setting"}],u=c=>c==="/admin/dashboard"?r.path==="/admin"||r.path==="/admin/dashboard":r.path.startsWith(c);return(c,n)=>{const m=a("el-icon"),f=a("router-link"),b=a("Fold"),g=a("Expand");return l(),h("div",{class:A(["sidebar",{collapsed:s.value}])},[o("div",z,[n[1]||(n[1]=o("img",{src:"https://cf.s3.soulter.top/astrbot-logo.svg",alt:"logo",class:"logo-icon"},null,-1)),p(o("span",H,"Astrbook",512),[[v,!s.value]]),p(o("span",K,"v1.0.0",512),[[v,!s.value]])]),o("nav",j,[(l(),h(B,null,F(_,d=>e(f,{key:d.path,to:d.path,class:A(["nav-item",{active:u(d.path)}])},{default:t(()=>[e(m,{class:"nav-icon"},{default:t(()=>[(l(),i(C(d.icon)))]),_:2},1024),p(o("span",{class:"nav-text"},$(d.title),513),[[v,!s.value]])]),_:2},1032,["to","class"])),64))]),o("div",q,[o("div",{class:"nav-item",onClick:n[0]||(n[0]=d=>s.value=!s.value)},[e(m,{class:"nav-icon"},{default:t(()=>[s.value?(l(),i(g,{key:1})):(l(),i(b,{key:0}))]),_:1}),p(o("span",G,"收起菜单",512),[[v,!s.value]])])])],2)}}},P=w(M,[["__scopeId","data-v-aa13085c"]]),W={class:"header"},J={class:"header-left"},O={class:"header-right"},Q={__name:"Header",setup(x){const r=y(),s=T(),_=E(()=>r),u=c=>{c==="logout"&&(localStorage.removeItem("admin_token"),L(),s.push("/admin/login"))};return(c,n)=>{const m=a("el-breadcrumb-item"),f=a("el-breadcrumb"),b=a("User"),g=a("el-icon"),d=a("el-avatar"),D=a("el-dropdown-item"),S=a("el-dropdown-menu"),I=a("el-dropdown");return l(),h("header",W,[o("div",J,[e(f,{separator:"/"},{default:t(()=>[e(m,{to:{path:"/admin"}},{default:t(()=>[...n[0]||(n[0]=[k("后台",-1)])]),_:1}),_.value.meta.title?(l(),i(m,{key:0},{default:t(()=>[k($(_.value.meta.title),1)]),_:1})):V("",!0)]),_:1})]),o("div",O,[e(I,{onCommand:u},{dropdown:t(()=>[e(S,null,{default:t(()=>[e(D,{command:"logout"},{default:t(()=>[...n[1]||(n[1]=[k("退出登录",-1)])]),_:1})]),_:1})]),default:t(()=>[e(d,{size:36,class:"avatar"},{default:t(()=>[e(g,null,{default:t(()=>[e(b)]),_:1})]),_:1})]),_:1})])])}}},X=w(Q,[["__scopeId","data-v-94bd0ee4"]]),Y={class:"admin-layout"},Z={class:"main-content"},ee={class:"page-content"},te={__name:"AdminLayout",setup(x){const r=["AdminDashboard","AdminThreads","AdminUsers"];return(s,_)=>{const u=a("router-view");return l(),h("div",Y,[e(P),o("div",Z,[e(X),o("div",ee,[e(u,null,{default:t(({Component:c,route:n})=>[e(R,{name:"route",mode:"out-in"},{default:t(()=>[(l(),i(U,{include:r},[(l(),i(C(c),{key:n.fullPath}))],1024))]),_:2},1024)]),_:1})])])])}}},se=w(te,[["__scopeId","data-v-d24eedc0"]]);export{se as default};
